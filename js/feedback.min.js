function validEmail(e){var t=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return t.test(e)}function getFormData(){var e=document.getElementById("feedback-form").elements,t=Object.keys(e).map(function(t){return void 0!==e[t].name?e[t].name:e[t].length>0?e[t].item(0).name:void 0}).filter(function(e,t,n){return n.indexOf(e)==t&&e}),n={};return t.forEach(function(t){if(n[t]=e[t].value,"checkbox"===e[t].type)n[t]=e[t].checked;else if(e[t].length)for(var a=0;a<e[t].length;a++)e[t].item(a).checked&&(n[t]=e[t].item(a).value)}),n}function handleFormSubmit(e){e.preventDefault();var t=getFormData();if(!validEmail(t.Email))return document.getElementById("email-invalid"),!1;var n=e.target.action,a=new XMLHttpRequest;a.open("POST",n),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){document.getElementById("feedback-form"),document.getElementById("feedback_thanks"),!0};var o=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");a.send(o)}function loaded(){var e=document.getElementById("feedback-form");e.addEventListener("submit",handleFormSubmit,!1)}document.addEventListener("DOMContentLoaded",loaded,!1);